
<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <title>RadarZap OCR</title>
  <script src="https://cdn.jsdelivr.net/npm/tesseract.js@4/dist/tesseract.min.js"></script>
  <style>
    body { font-family: sans-serif; background: #e5ddd5; padding: 2rem; color: #075e54; }
    h1 { color: #128c7e; }
    .box { background: #fff; border-radius: 8px; padding: 1rem; box-shadow: 0 2px 10px rgba(0,0,0,0.1); }
    #output { white-space: pre-wrap; background: #f0f0f0; padding: 1rem; border-radius: 4px; margin-top: 1rem; }
    button { background: #25d366; color: white; padding: 0.5rem 1rem; border: none; border-radius: 4px; cursor: pointer; }
    button:hover { background: #128c7e; }
  </style>
</head>
<body>
  <h1>RadarZap Web OCR</h1>
  <div class="box">
    <p><strong>Selecione uma imagem para extrair o texto:</strong></p>
    <input type="file" id="imageInput" accept="image/*" />
    <br/><br/>
    <button onclick="extractText()">Extrair texto</button>
    <div id="preview" style="margin-top: 1rem;"></div>
    <div id="output"></div>
  </div>

  <script>
    function extractText() {
      const file = document.getElementById('imageInput').files[0];
      if (!file) {
        alert("Selecione uma imagem primeiro.");
        return;
      }

      const preview = document.getElementById('preview');
      const reader = new FileReader();
      reader.onload = function(e) {
        preview.innerHTML = '<img src="' + e.target.result + '" style="max-width: 100%; border-radius: 8px;" />';
      };
      reader.readAsDataURL(file);

      Tesseract.recognize(
        file,
        'por',
        {
          logger: m => {
            document.getElementById('output').innerText = "Processando: " + Math.round(m.progress * 100) + "%";
          }
        }
      ).then(({ data: { text } }) => {
        document.getElementById('output').innerText = text;
      });
    }
  </script>
</body>
</html>
